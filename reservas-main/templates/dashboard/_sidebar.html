<aside class="position-sticky" style="top: 1rem;">
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-body p-0">
      <div class="px-3 py-3 border-bottom d-flex align-items-center gap-2">
        <span class="fw-bold">Reservas Inacap</span>
      </div>
      <nav class="list-group list-group-flush">

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'dashboard_user' or request.resolver_match.url_name == 'dashboard_admin' %}active{% endif %}"
           href="{% if user.is_staff %}{% url 'dashboard_admin' %}{% else %}{% url 'dashboard_user' %}{% endif %}">
          <i class="bi bi-house-door me-2"></i><span>Inicio</span>
        </a>

        <div class="px-3 pt-3 text-muted small">Navegación</div>

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'spaces_list' %}active{% endif %}"
           href="{% url 'spaces_list' %}">
          <i class="bi bi-building me-2"></i><span>Espacios</span>
        </a>

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'resources_list' %}active{% endif %}"
           href="{% url 'resources_list' %}">
          <i class="bi bi-tools me-2"></i><span>Recursos</span>
        </a>

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'history' %}active{% endif %}"
           href="{% url 'history' %}">
          <i class="bi bi-journal-text me-2"></i><span>Historial</span>
        </a>

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'notifications' %}active{% endif %}"
           href="{% url 'notifications' %}">
          <i class="bi bi-bell me-2"></i><span>Notificaciones</span>
          {% if unread %}<span class="badge rounded-pill text-bg-danger ms-auto">{{ unread }}</span>{% endif %}
        </a>

        <a class="list-group-item list-group-item-action d-flex align-items-center
                  {% if request.resolver_match.url_name == 'profile' %}active{% endif %}"
           href="{% url 'profile' %}">
          <i class="bi bi-person-circle me-2"></i><span>Perfil</span>
        </a>

        {% if user.is_staff %}
          <div class="border-top mt-2"></div>
          <div class="px-3 pt-3 text-muted small">Administración</div>

          <a class="list-group-item list-group-item-action d-flex align-items-center
                    {% if request.resolver_match.url_name == 'approvals_pending' %}active{% endif %}"
             href="{% url 'approvals_pending' %}">
            <i class="bi bi-check2-square me-2"></i><span>Aprobaciones</span>
          </a>

          <a class="list-group-item list-group-item-action d-flex align-items-center"
             href="{% url 'export_reservations_csv' %}">
            <i class="bi bi-filetype-csv me-2"></i><span>Exportar reservas (CSV)</span>
          </a>
        {% endif %}
      </nav>
    </div>
  </div>
</aside>
